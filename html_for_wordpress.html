<!-- 
  ✅ [워드프레스 페이지 편집 > 사용자 정의 HTML] 블록에 붙여넣으세요.
  (CSS는 '추가 CSS' 메뉴에 따로 넣어야 합니다)
-->

<!-- 폰트 불러오기 (HTML 상단에 유지) -->
<style>
    @import url('https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Noto+Sans+KR:wght@300;400;500;700;800&display=swap');
</style>

<div id="nm-app-root">
    <div class="nm-app">

        <!-- 🎄 크리스마스 슬라이딩 띠배너 -->
        <div class="nm-ribbon-wrap" id="force-ribbon-bg">
            <div class="nm-ribbon">
                <div class="nm-ribbon-inner">
                    <span class="nm-ribbon-item force-ribbon-text">
                        <span class="nm-ribbon-dot"></span>
                        브루키 크리스마스 패키지 준비 중 · 오픈 소식은 작업일지에서 먼저 알려드려요
                    </span>
                    <span class="nm-ribbon-item force-ribbon-text">
                        <span class="nm-ribbon-dot"></span>
                        nothingmatters 아틀리에는 연말 시즌 동안 예약 픽업제로 운영돼요
                    </span>
                    <span class="nm-ribbon-item force-ribbon-text">
                        <span class="nm-ribbon-dot"></span>
                        From Nothing to Fun · 귀여운 크리스마스 디저트와 가방이 매일 업데이트되고 있어요
                    </span>
                    <!-- 무한루프용 복사 -->
                    <span class="nm-ribbon-item force-ribbon-text">
                        <span class="nm-ribbon-dot"></span>
                        브루키 크리스마스 패키지 준비 중 · 오픈 소식은 작업일지에서 먼저 알려드려요
                    </span>
                    <span class="nm-ribbon-item force-ribbon-text">
                        <span class="nm-ribbon-dot"></span>
                        nothingmatters 아틀리에는 연말 시즌 동안 예약 픽업제로 운영돼요
                    </span>
                    <span class="nm-ribbon-item force-ribbon-text">
                        <span class="nm-ribbon-dot"></span>
                        From Nothing to Fun · 귀여운 크리스마스 디저트와 가방이 매일 업데이트되고 있어요
                    </span>
                </div>
            </div>
        </div>

        <!-- 타이틀 -->
        <div class="nm-header-title">NOTHINGMATTERS</div>

        <!-- 알약 버튼 네비게이션 -->
        <div class="nm-filter-row-sticky">
            <div class="nm-filter-row">
                <button class="nm-filter-pill active" data-target="section-brand">🎉브랜드 소개</button>
                <button class="nm-filter-pill" data-target="section-diary">📓작업일지</button>
                <button class="nm-filter-pill" data-target="section-dessert">🍪 디저트</button>
                <button class="nm-filter-pill" data-target="section-product">👜제품</button>
                <button class="nm-filter-pill" data-target="section-choice">⭐오늘의 선택</button>
            </div>
        </div>

        <!-- 메인 섹션 헤더 -->
        <div class="nm-card-list">

            <!-- 카드 1: 🎉브랜드 소개 -->
            <div class="nm-card" id="section-brand">
                <div class="nm-card-tag">
                    <span class="nm-dot-blue"></span>
                    🎉브랜드 소개
                </div>
                <div class="nm-hero-main-title">From Nothing to Fun.</div>
                <p class="nm-hero-sub-ko">
                    귀여운 디저트와 감성적인 디자인 소품을 만드는<br>
                    서울의 작은 아틀리에 브랜드, nothingmatters.
                </p>
            </div>

            <!-- 공지사항 카드 -->
            <div class="nm-notice-card">
                <div class="nm-notice-header">
                    <span class="nm-notice-pill" id="force-notice-pill">🔔 공지사항</span>
                </div>
                <div class="nm-notice-body">
                    [kboard_latest id="5" url="https://betterbetters.co.kr/공지및-이벤트?mod=list" rpp="3"]
                </div>
            </div>

            <!-- 카드 2: 작업일지 -->
            <div class="nm-card" id="section-diary">
                <div class="nm-card-tag">
                    <span class="nm-dot-blue"></span>
                    작업일지 · Atelier Notes
                </div>
                <p class="nm-card-text">
                    쿠키를 굽고, 가방을 만들고, 하루의 작은 기록
                </p>
                [nm_journal_slider posts="6"]
            </div>

            <!-- 카드 3: 디저트 -->
            <div class="nm-card" id="section-dessert">
                <div class="nm-card-tag">
                    <span class="nm-dot-blue"></span>
                    🍪 디저트 · Gallery
                </div>
                <p class="nm-card-text">
                    맛 귀여움 그자체
                </p>
                <div class="nm-dessert-gallery">
                    [kboard id=6]
                    <div class="nm-gallery-footer">
                        <a href="/디저트" class="nm-btn nm-btn-small">디저트 전체 보기</a>
                    </div>
                </div>
            </div>

            <!-- 카드 4: 제품 갤러리 -->
            <div class="nm-card" id="section-product">
                <div class="nm-card-tag">
                    <span class="nm-dot-blue"></span>
                    👜 제품 · Gallery
                </div>
                <p class="nm-card-text">
                    직접 만드는 제품들
                </p>
                <div class="nm-product-gallery">
                    [kboard id=8]
                </div>
                <div class="nm-gallery-footer">
                    <a href="/제품" class="nm-btn nm-btn-small">제품 전체 보기</a>
                </div>
            </div>

            <!-- 카드 5: 오늘의 선택 -->
            <div class="nm-card nm-card-choice" id="section-choice">
                <div class="nm-card-tag nm-card-tag-choice">
                    오늘의 선택
                </div>
                <div class="nm-card-title nm-card-title-choice">
                    오늘은 무엇을 데려가실래요?
                </div>
                <p class="nm-card-text nm-card-text-choice">
                    쿠키 한 조각, 가방 하나, 혹은 그냥 기록만 읽고 가셔도 좋아요.<br>
                    오늘의 선택은, 지금 당신에게 가장 가벼운 기쁨이면 충분해요.
                </p>
                <div class="nm-cta-row nm-cta-row-choice">
                    <a href="#" class="nm-btn nm-btn-choice-main">디저트 보러가기</a>
                    <a href="#" class="nm-btn nm-btn-choice-ghost">가방 & 소품 보러가기</a>
                </div>
            </div>

        </div>

        <!-- 🚨 BIG ORDER BUTTON -->
        <div class="nm-big-cta-container">
            <a href="https://thingmattersreserve-production.up.railway.app" target="_blank" class="nm-big-cta-btn">
                <span class="nm-cta-icon">📄</span>
                쿠키주문서
            </a>
        </div>

        <div class="nm-footer">
            From Nothing to Fun. · nothingmatters
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- JS Force Styles (Nuclear Option) ---
        setTimeout(() => {
            const ribbon = document.getElementById('force-ribbon-bg');
            if (ribbon) {
                ribbon.style.backgroundColor = '#1D1D1F';
                ribbon.style.color = '#F5F5F7';
            }

            const ribbonTexts = document.querySelectorAll('.force-ribbon-text');
            ribbonTexts.forEach(el => el.style.color = '#F5F5F7');

            const noticePill = document.getElementById('force-notice-pill');
            if (noticePill) {
                noticePill.style.backgroundColor = '#F5F5F7';
                noticePill.style.color = '#1D1D1F';
            }
        }, 500); // Delay to ensure load

        // --- Scroll Logic ---
        const pills = document.querySelectorAll('.nm-filter-pill');
        const sections = document.querySelectorAll('.nm-card[id]');

        pills.forEach((pill) => {
            pill.addEventListener('click', () => {
                pills.forEach((p) => p.classList.remove('active'));
                pill.classList.add('active');

                const targetId = pill.dataset.target;
                const target = document.getElementById(targetId);

                if (target) {
                    const headerOffset = 80;
                    const elementPosition = target.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        window.addEventListener('scroll', () => {
            let current = '';
            const scrollY = window.scrollY;
            const headerOffset = 100;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;

                if (scrollY >= (sectionTop - headerOffset)) {
                    current = section.getAttribute('id');
                }
            });

            pills.forEach(pill => {
                pill.classList.remove('active');
                if (pill.dataset.target === current) {
                    pill.classList.add('active');
                }
            });
        });
    });
</script>